<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>CalcBuddy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="icons/calculator-256x256.png">

    <script src="bridge.js"></script>
    <script src="bridge.meta.js"></script>
    <script src="require.js"></script>
    <script src="Tokenizer.js"></script>
    <script src="Parser.js"></script>
    <script src="CalcBuddy.js"></script>

    <link rel="stylesheet" href="codemirror.css">
    <link rel="manifest" href="manifest.json">

    <script>

        // Check that service workers are registered
        if ('serviceWorker' in navigator) {
          // Use the window load event to keep the page load performant
          window.addEventListener('load', () => {
              
              navigator.serviceWorker.register('service-worker.js')
              .then(function (registration) {
                  console.log('Service Worker Registered');
              });

              navigator.serviceWorker.ready.then(function (registration) {
                  console.log('Service Worker Ready');
                  navigator.registerProtocolHandler("web+calcbuddy",
                    "https://timmi-on-rails.github.io/CalcBuddy/?q=%s",
                    "CalcBuddy handler");
              });
          });
        }
    </script>

    <style>
        html {
            height: 100%;
        }

        body {
            margin: 0px;
            height: 100%;
        }
    </style>
</head>
<body>
</body>
</html>
